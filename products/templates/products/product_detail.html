{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-5">
    <div class="row g-4">

        <!-- IMAGE -->
        <div class="product-img-wrapper mb-4">
    {% if product.image %}
    <img src="{{ product.image.url }}" class="product-img" alt="{{ product.name }}">
    {% elif product.image_url %}
    <img src="{{ product.image_url }}" class="product-img" alt="{{ product.name }}">
    {% else %}
    <img src="https://via.placeholder.com/600x600?text=No+Image"
         class="product-img" alt="No image">
    {% endif %}
       </div>

        <!-- PRODUCT DETAILS -->
        <div class="col-md-6">
            <p class="text-muted small mb-1">
                <a href="{% url 'products' %}" class="text-decoration-none text-muted">&larr; Back to products</a>
            </p>

            <h2 class="fw-bold mb-2">{{ product.name }}</h2>

            {% if product.category %}
                <p class="text-uppercase small text-muted mb-3">
                    {{ product.category.friendly_name|default:product.category.name }}
                </p>
            {% endif %}

            <h3 class="text-dark fw-semibold mb-3">£{{ product.price }}</h3>

            <p class="mb-4">
                {{ product.description|default:"No description available for this product yet." }}
            </p>

            <a href="{% url 'add_to_cart' product.id %}" class="btn btn-success btn-lg w-100">
                Add to Cart
            </a>
        </div>

    </div>
</div>
{% endblock %}
